<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Galería de Productos</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>
  <!-- Barra de navegación -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top shadow">
    <div class="container">
      <a class="navbar-brand" href="/">
        DuocUC
      </a>
      <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse bg-white" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="/">Inicio</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Productos</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Ofertas</a></li>
          <li class="nav-item"><a class="nav-link" href="contacto.html">Contacto</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Sección principal -->
  <main class="container mt-5 pt-5">
    <div class="box shadow p-4">
      <h1>Contáctanos | Avanzado JS</h1>
      <form action="#" method="post">
        <div class="mb-3">
          <label for="nombre" class="form-label">Nombre: <span style="color: red;">*</span></label>
                    <input type="text" class="form-control" id="nombre" name="nombre" autocomplete="off">
          <div class="invalid-feedback" id="error-nombre"></div>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Correo Electrónico: <span style="color: red;">*</span></label>
                    <input type="email" class="form-control" id="email" name="email" autocomplete="off">
          <div class="invalid-feedback" id="error-email"></div>
        </div>
        <div class="mb-3">
          <label for="subject" class="form-label">Asunto:</label>
                    <input type="text" class="form-control" id="subject" name="subject" autocomplete="off">
          <div class="invalid-feedback" id="error-subject"></div>
        </div>
        <div class="mb-3">
          <label for="mensaje" class="form-label">Mensaje: <span style="color: red;">*</span></label>
                    <textarea class="form-control" id="mensaje" name="mensaje" rows="4" autocomplete="off"></textarea>
          <div class="invalid-feedback" id="error-mensaje"></div>
        </div>
        <button type="submit" class="btn btn-primary">Enviar</button>
        <button type="reset" class="btn btn-secondary">Limpiar</button>
      </form>
    </div>
    <div class="mt-5">
      <a href="contacto_js.html" class="btn btn-warning">Formulario Simple + JS</a>
      <a href="contacto_jquery.html" class="btn btn-warning">Formulario Simple + jQuery</a>
      <a href="contacto_js_avanzado.html" class="btn btn-warning">Formulario Avanzado + JS</a>
    </div>
  </main>

  <!-- Información complementaria -->
  <footer>
    <p>© 2025 Tienda de Tecnología. Todos los derechos reservados.</p>
  </footer>
</body>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
  integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
  integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
<script>
  const form = document.querySelector("form");
  const campos = {
      nombre: {
        required: true,
        regex: /^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]{3,50}$/,
        error: {
          required: "El nombre es obligatorio.",
          length: "El nombre debe tener entre 3 y 50 caracteres.",
          format: "Solo se permiten letras, espacios, eñes y tildes."
        }
      },
      email: {
        required: true,
        regex: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
        error: {
          required: "El correo electrónico es obligatorio.",
          format: "Formato de correo electrónico inválido."
        }
      },
      subject: {
        required: false,
        regex: /^[A-Za-zÁÉÍÓÚáéíóúÑñ0-9\s]*$/,
        error: {
          format: "Solo se permiten letras, espacios, eñes, tildes y dígitos."
        }
      },
      mensaje: {
        required: true,
        regex: /^[A-Za-zÁÉÍÓÚáéíóúÑñ0-9\s]+$/,
        error: {
          required: "El mensaje es obligatorio.",
          format: "Solo se permiten letras, espacios, eñes, tildes y dígitos."
        }
      }
    };

    function mostrarError(id, mensaje) {
      const input = document.getElementById(id);
      input.classList.add("is-invalid");
      document.getElementById("error-" + id).textContent = mensaje;
    }

    function limpiarError(id) {
      const input = document.getElementById(id);
      input.classList.remove("is-invalid");
      document.getElementById("error-" + id).textContent = "";
    }

  form.addEventListener("submit", function (event) {
    let valido = true;

    // Limpiar errores previos
    Object.keys(campos).forEach(campo => limpiarError(campo));

    // Validación nombre
    const nombre = form.nombre.value.trim();
    if (campos.nombre.required && !nombre) {
      mostrarError("nombre", campos.nombre.error.required);
      valido = false;
    } else if (nombre.length < 3 || nombre.length > 50) {
      mostrarError("nombre", campos.nombre.error.length);
      valido = false;
    } else if (!campos.nombre.regex.test(nombre)) {
      mostrarError("nombre", campos.nombre.error.format);
      valido = false;
    }

    // Validación email
    const email = form.email.value.trim();
    if (campos.email.required && !email) {
      mostrarError("email", campos.email.error.required);
      valido = false;
    } else if (!campos.email.regex.test(email)) {
      mostrarError("email", campos.email.error.format);
      valido = false;
    }

    // Validación asunto (opcional)
    const subject = form.subject.value.trim();
    if (subject && !campos.subject.regex.test(subject)) {
      mostrarError("subject", campos.subject.error.format);
      valido = false;
    }

    // Validación mensaje
    const mensaje = form.mensaje.value.trim();
    if (campos.mensaje.required && !mensaje) {
      mostrarError("mensaje", campos.mensaje.error.required);
      valido = false;
    } else if (!campos.mensaje.regex.test(mensaje)) {
      mostrarError("mensaje", campos.mensaje.error.format);
      valido = false;
    }

    if (!valido) {
      event.preventDefault();
      return false;
    }
  });

    // Validación en tiempo real
    Object.keys(campos).forEach(campo => {
      document.getElementById(campo).addEventListener("input", function () {
        limpiarError(campo);
      });
    });
</script>

</html>